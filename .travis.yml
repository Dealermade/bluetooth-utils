language: java
script: mvn clean install
notifications:
  slack: kolotov:69j2qLZ0paybeuQMcKfyN2gP
before_deploy: git checkout master
after_success:
- mvn clean cobertura:cobertura coveralls:report
env:
  global:
  - secure: pXgQz+gZucbQ9YMXcur6ujPC/+/acBwc4EQwApo1En7/YRUb/hXRly+uhtUsVsakXrG/GHg6AGsZG/2889mqgfYonynJLpGahDYwziTt69NW0H4TIH5WfKJuOoFwecMQ5zn7dvVYCdmMTVUty7YgChVURLuKBBtuaHUlqs8HtfcNmiqgRZ1N7JvMZ+802tUdor0vCmlaQj3lldx5EVsvRzCpY/+AD8daf1gHjCA/lW5Y1p+mGPXxU8/yhYaIY4+0IATeheMopILi5Saao9FsM5M8GCVVjSkxKrXuN6MsyKuBnkJHDPmc6I4cD5jOYQ1sK/o0W9DUm6DrlqW9+vZvtY3NAVRkMst3kqTohsOIppc0rPBoIofWd7/vFluY0XHnHDBzzROhUDwdbrRAkCr7Gr9eXbtxq3Dn2lYJSbYwvcx6bn814QTWKHZJvJDEtMiVpeh6TqpfjSMTgZvKsaVrb+PTXAWTkHD/SyN3lHLnGqpEhDdyjsYlX5X/mNRmivzxZGT8OI5I8FFhjoTxGo4gQpwFKkgeqluD/9flAwtLtBF1vqLlYfyWXAHc7MGMs8yro3hKc34dSzjHt7WSk8ILq788t2zCurCRYLB+kfA/ZAOLGFdJ/Ng8KGrOVlJeUFGKrKEhElWU8BXYj52k2UukDxL3xzADiQXeSwbS/RSdYsU=
  - secure: RltBs4MMobBmdsBS09IZOjRSgFYiP7US2BEOYA1cfFB6RPhIHkqH1fiEnv5oeKkq60n2Mn9hBuvirLSNVBGj7NqF6h/M89O657bDQYb3GXSsSzkbO2yYO2qLKHnrOOh67rdJb8x5WVy+q7T8xOxuncdCn1wu1iVbFWuAOv/Nbu/lq/VnPxK4CAUskXezYkPoyrlgVjSxRNAVTlUokbwWfbYU001EA6sHc6ip731Nf0qWsRLsc3bOxCmvVa3rqAERccUBN/HJuLrJl2M9szRBe+DGNxa2BM5pmUcVR09ONbiuZr/3giNzRTsMYpCVLJHGo8W3R2RkWeJNqBfcObuBAvKcG3wAgAAXRilKPLMBC8oFDi+LX7tCOcJXvC2eVu7sq2spMCpHF9p54klX4+w1E4BPK2knxsffJj40kFypWxFN79dlJNGLl2WR97/bKmbk774nADTX2+rEQGlBn8nhUC9CpGoE+k4P3JD5fBHakc62aL88Rm9cZTlhm0v7rGxpUB/LtMJlU4ECVlLwA7RO/ncfrRpJLZTAANScG+X5Ukd+4XshZD6sxmO8k45nFAbelYTwwj2n50hYZCenGapSVbCD8r29+SE0cQUvZmwl5Y+cp56y/xIh8Im80EQc+DlKUwhq1WbQNvNPVcN9QpZb3M51yW4gT3USI6nd5sqlEx0=
  - secure: bJz5IG8AcRs3Cp5Yk0L5F8yxUpppDMaEBCJL5GwyWvfFAo1KYYvT9wO+oxDMEanfRzKQPohO3udfDnfTBA+db62mOMkjOa9PeByZkcyYUHEGaFOAgUwHItLHBNJDVIG7ggTnEXxhjntZkUgWSrtQ8/HgkUVTq7eAzUrdUobrgSVqfBQZ6IaNPqTGQ1ysbUo5YxRgN11dmQ75VTLx6i73Og9BaRf2qFZLIvfvf+KAAQz5EJfyfB41pzfUl0dI118FNLLpcmqpqOe8mtmtCFuGK5umGy5uz9xPjQYzrSgNi+xcE0tJh7jDXUB7/IlkBi1dDSQW8IMlcm/FkTBF+9ZVTD/P2Vg6s9oeoSxrW+d/pQDM/TP86knr4hYBJWyrMTzZIdloctSA1pP6IvEIipjeelwxwHMzbOJeUfQ7Ni01dq7eoX1XXb6ycRaCeydY1i4fjFg8RQ5rYjlQgeARlnV+h1/nmYO9ENRWcBctRzV4gOKQKy4aIFgc8tJ6sVWroxf0X8MMroEkZmuOFDcI+YUrjn7JAUq5oiMzXz4oZ4kPGFtbiZTh+sFqgh0noc4s/D5WFMxNRkUyHkI7/DVDi0fxH+f7Yuy0qAuMa1BoeDGHB99Xbx1poO8WS9vRHWgCAYQEYAqOu2oOzFBMyHRUfC6wuTtgRO0k6z4DS2WLidwVNaw=
  - secure: LKdgjsq1M1M3CoPbYlVe/NcA6NmI/1bE9pnBftuo4ZU5Q7OL/cBp7FQK+G4sGDBQCMkak9OXrJ8VnOLs9CR8ddu7PyVDFbDsWT1HEv8USXhMMdamdsmfelB5RN6UbWyCxUomdP/EfO29gbOALtBxsArzO+m4+/8WoSFFjM6e2dEb34H3laCp1giLVWrPqq3HQSQz7+DW4whKIIT3yiQQSe60SUBhy3zneeXGX4nM1IGzYiGzFmpxuW2Z1yLcKP+yZ3toegLI6mpEbhyigdOwDlzGVVTe7kebPgWfRNR8TnQ/n8jWNBRCUOnYsw7nNDnALa2VfqMyJEwb23IFSsnx/DbdM60PmaMVKa8zPr1OK8NPyvwxbPSTSXIj/TlA+/OIQhbruaIFWmC2G55ZR/lw30cT/1jYL13CadnCnqCtqZd3s/QxpX1BoYHLPPWWN05e5AJasauR1VZ4ql6YXLViyi1GJZeMGj3IZnwI4V3a8ZP7uo8GJn5oq7R59Zf4co64YUeWMZH8tvUgdsYiFzyQtrLZ/ls2qgRQj+DTFoVVifpUgz2BpTcrRz45BwyK3jMsfU/hcVJq2kCPAz98UHaxSctqLXGq2XGS91qifLqzzSo1vNGG33K3A/vXmBSb6Hx0y6tPv5deF3Gw5W9ZxN8TCyAomSZsMA21MuA5DQr5m80=
install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  - .travis/before-deploy.sh
  - .travis/deploy.sh